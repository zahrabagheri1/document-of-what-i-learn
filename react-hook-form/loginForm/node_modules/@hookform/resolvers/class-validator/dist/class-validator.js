var r=require("@hookform/resolvers"),e=require("class-transformer"),t=require("class-validator"),s=function r(e,t,s,a){return void 0===s&&(s={}),void 0===a&&(a=""),e.reduce(function(e,s){var i=a?a+"."+s.property:s.property;if(s.constraints){var o=Object.keys(s.constraints)[0];e[i]={type:o,message:s.constraints[o]};var n=e[i];t&&n&&Object.assign(n,{types:s.constraints})}return s.children&&s.children.length&&r(s.children,t,e,i),e},s)};exports.classValidatorResolver=function(a,i,o){return void 0===i&&(i={}),void 0===o&&(o={}),function(n,l,c){try{var v=i.validator,d=e.plainToClass(a,n,i.transformer);return Promise.resolve(("sync"===o.mode?t.validateSync:t.validate)(d,v)).then(function(e){return e.length?{values:{},errors:r.toNestErrors(s(e,!c.shouldUseNativeValidation&&"all"===c.criteriaMode),c)}:(c.shouldUseNativeValidation&&r.validateFieldsNatively({},c),{values:o.raw?Object.assign({},n):d,errors:{}})})}catch(r){return Promise.reject(r)}}};
//# sourceMappingURL=class-validator.js.map
